<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.njxzc.dao.AdminGoodsDao">

	<!-- AddGoods -->
	<insert id="addGoods" parameterType="com.njxzc.po.Goods">
		INSERT INTO goodstable(id, gname, goprice, grprice, gstore, gpicture, goodstype_id)
		VALUES (NULL , #{gname}, #{goprice}, #{grprice}, #{gstore}, #{gpicture}, #{goodstype_id})
	</insert>

	<!-- UpdateGoodsByID -->
	<update id="updateGoodsById" parameterType="com.njxzc.po.Goods">
		UPDATE goodstable SET gname=#{gname}, goprice=#{goprice}, grprice=#{grprice}, gstore=#{gstore}, gpicture=#{gpicture}, goodstype_id=#{goodstype_id} WHERE id=#{id}
	</update>

	<!-- SelectGoods -->
	<select id="selectGoods" resultMap="Goods">
		SELECT * FROM goodstable
	</select>

	<!-- 分页查询 -->
	<select id="selectAllGoodsByPage" resultMap="Goods" parameterType="map">
		SELECT * FROM goodstable ORDER BY id LIMIT #{startIndex}, #{perPageSize}
	</select>

	<!-- 根据id查询 -->
	<select id="selectGoodsById" resultMap="Goods" parameterType="Integer">
		SELECT gt.*, gy.typename FROM goodstable gt, goodstype gy WHERE gt.id = #{id} AND gt.goodstype_id = gy.id
	</select>

</mapper>